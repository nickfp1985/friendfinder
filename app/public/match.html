<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FriendFinder Survey</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>
<body>

</body>

<script type="text/javascript">
function runTableQuery() {

  // Here we get the location of the root page.
  // We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
  var currentURL = window.location.origin;

  // The AJAX function uses the URL of our API to GET the data associated with it (initially set to localhost)
  $.ajax({ url: currentURL + "/api/tables", method: "GET" })
    .then(function(tableData) {

    // Here we are logging the URL so we have access to it for troubleshooting
      console.log("------------------------------------");
      console.log("URL: " + currentURL + "/api/tables");
      console.log("------------------------------------");

      // Here we then log the NYTData to console, where it will show up as an object.
      console.log(tableData);
      console.log("------------------------------------");

      // Loop through and display each of the customers
      for (var i = 0; i < tableData.length; i++) {

      // Create the HTML Well (Section) and Add the table content for each reserved table
        var tableSection = $("<div>");
        tableSection.addClass("well");
        tableSection.attr("id", "tableWell-" + i + 1);
        $("#tableSection").append(tableSection);

        var tableNumber = i + 1;


        // Then display the remaining fields in the HTML (Section Name, Date, URL)
        $("#tableWell-" + i + 1).append("<h2><span class='label label-primary'>" + tableNumber + "</span> | " + tableData[i].customerID + "</h2>");
      }
    });
}
</script>
</html>